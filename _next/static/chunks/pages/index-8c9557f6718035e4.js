(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6817)}])},6817:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(5893),n=r(6051),i=r(6277),l=r(6226),o=r(6713),a=r(5636),c=r(7984),d=r(137),h=r(3671),u=r.n(h),x=r(7294);let p=e=>{let t=[],r=new Map;for(let s of e){let e=s.profession,n={title:s.title,street:s.street,city:s.city,person:s.person,phone:s.phone,email:s.email};if(r.has(e)){let t=r.get(e);t.firms.push(n)}else{let s={profession:e,firms:[n]};t.push(s),r.set(e,s)}}return t};var f=r(9163);let{Panel:j}=f.Z,{Dragger:m}=n.Z;function g(){var e;let[t,r]=(0,x.useState)(),[h,g]=(0,x.useState)(),[b,Z]=(0,x.useState)([]),v=()=>{let e=localStorage.getItem("firm-list");e&&u()().fromString(e).then(e=>{g(p(e)[0]),Z(p(e)),console.log("prof",p(e))})};return(0,x.useEffect)(()=>{v()},[]),(0,s.jsxs)("div",{style:{height:"100vh",background:"white",padding:"1rem"},children:[(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(l.Z,{children:(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(m,{customRequest:e=>{let{onSuccess:t}=e;t&&t("ok")},beforeUpload:e=>{let t="text/csv"===e.type;return t||a.ZP.error("".concat(e.name," nen\xed csv soubor.")),t||n.Z.LIST_IGNORE},maxCount:1,onChange:e=>{if("done"===e.file.status){let t=new FileReader;t.onload=e=>{var t;e.preventDefault(),"string"==typeof(null===(t=e.target)||void 0===t?void 0:t.result)&&r(e.target.result)},e.file.originFileObj&&t.readAsText(e.file.originFileObj)}},children:(0,s.jsx)("p",{className:"ant-upload-text",children:"Nahrej CSV"})}),(0,s.jsx)(c.ZP,{type:"primary",onClick:()=>{t?(localStorage.setItem("firm-list",t),console.log("file",t),a.ZP.success("Soubor nahr\xe1n.")):a.ZP.error("Pr\xe1zdn\xfd soubor"),v()},disabled:!t,children:"ODESLAT"})]})}),(0,s.jsx)(d.Z,{})]}),(0,s.jsxs)(i.Z,{children:[(0,s.jsx)(l.Z,{span:4,children:(0,s.jsx)(o.Z,{direction:"vertical",children:b.map((e,t)=>(0,s.jsxs)(c.ZP,{type:e.profession===(null==h?void 0:h.profession)?"primary":"default",style:{display:"block"},onClick:()=>{g(e)},children:[t+1,". ",e.profession]},t))})}),(0,s.jsx)(l.Z,{span:1,children:(0,s.jsx)(d.Z,{type:"vertical",style:{height:"100%"}})}),(0,s.jsx)(l.Z,{span:18,children:(0,s.jsx)(f.Z,{children:null==h?void 0:null===(e=h.firms)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)(j,{header:e.title,children:[e.title&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:e.title})," ",(0,s.jsx)("br",{})]}),e.street&&(0,s.jsxs)(s.Fragment,{children:[e.street,(0,s.jsx)("br",{})]}),e.city&&(0,s.jsxs)(s.Fragment,{children:[e.city,(0,s.jsx)("br",{})]}),(0,s.jsx)("br",{}),e.person&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("b",{children:e.person})," ",(0,s.jsx)("br",{})]}),e.phone&&(0,s.jsxs)(s.Fragment,{children:[e.phone,(0,s.jsx)("br",{})]}),e.email&&(0,s.jsxs)(s.Fragment,{children:[e.email,(0,s.jsx)("br",{})]})]},e.title||t))})})]})]})}}},function(e){e.O(0,[808,647,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);