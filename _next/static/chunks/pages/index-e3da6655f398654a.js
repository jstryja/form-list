(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6817)}])},6817:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var s=r(5893),l=r(6051),n=r(6277),i=r(6226),o=r(6713),a=r(5636),d=r(7984),c=r(137),u=r(3671),f=r.n(u),p=r(7294);let h=e=>{let t=[],r=new Map;for(let s of e){let e=s.profession,l={title:s.title,street:s.street,city:s.city,person:s.person,phone:s.phone,email:s.email};if(r.has(e)){let t=r.get(e);t.firms.push(l)}else{let s={profession:e,firms:[l]};t.push(s),r.set(e,s)}}return t};var x=r(9163);let{Panel:j}=x.Z,{Dragger:v}=l.Z;function m(){var e;let[t,r]=(0,p.useState)(),[u,m]=(0,p.useState)(),[Z,b]=(0,p.useState)([]),g=()=>{let e=localStorage.getItem("firm-list");e&&f()().fromString(e).then(e=>{m(h(e)[0]),b(h(e)),console.log("prof",h(e))})};return(0,p.useEffect)(()=>{g()},[]),(0,s.jsxs)("div",{style:{height:"100vh",background:"white",padding:"1rem"},children:[(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(i.Z,{children:(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(v,{customRequest:e=>{let{onSuccess:t}=e;t&&t("ok")},beforeUpload:e=>{let t="text/csv"===e.type;return t||a.ZP.error("".concat(e.name," nen\xed csv soubor.")),t||l.Z.LIST_IGNORE},maxCount:1,onChange:e=>{if("done"===e.file.status){let t=new FileReader;t.onload=e=>{var t;e.preventDefault(),"string"==typeof(null===(t=e.target)||void 0===t?void 0:t.result)&&r(e.target.result)},e.file.originFileObj&&t.readAsText(e.file.originFileObj)}},children:(0,s.jsx)("p",{className:"ant-upload-text",children:"Nahrej CSV"})}),(0,s.jsx)(d.ZP,{type:"primary",onClick:()=>{t?(localStorage.setItem("firm-list",t),console.log("file",t),a.ZP.success("Soubor nahr\xe1n.")):a.ZP.error("Pr\xe1zdn\xfd soubor"),g()},disabled:!t,children:"ODESLAT"})]})}),(0,s.jsx)(c.Z,{})]}),(0,s.jsxs)(n.Z,{children:[(0,s.jsx)(i.Z,{span:4,children:(0,s.jsx)(o.Z,{direction:"vertical",children:Z.map((e,t)=>(0,s.jsxs)(d.ZP,{type:e.profession===(null==u?void 0:u.profession)?"primary":"default",style:{display:"block"},onClick:()=>{m(e)},children:[t+1,". ",e.profession]},t))})}),(0,s.jsx)(i.Z,{span:1,children:(0,s.jsx)(c.Z,{type:"vertical",style:{height:"100%"}})}),(0,s.jsx)(i.Z,{span:18,children:(0,s.jsx)(x.Z,{children:null==u?void 0:null===(e=u.firms)||void 0===e?void 0:e.map((e,t)=>(0,s.jsxs)(j,{header:e.title,children:[e.title," ",(0,s.jsx)("br",{}),null==e?void 0:e.street," ",(0,s.jsx)("br",{}),null==e?void 0:e.city," ",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),null==e?void 0:e.person," ",(0,s.jsx)("br",{}),null==e?void 0:e.phone," ",(0,s.jsx)("br",{}),null==e?void 0:e.email," ",(0,s.jsx)("br",{})]},t))})})]})]})}}},function(e){e.O(0,[808,647,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);